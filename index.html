<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒãƒ¢ãƒ‰ãƒ¼ãƒ­ã‚¿ã‚¤ãƒãƒ¼</title>

    <!-- PWA / ãƒ›ãƒ¼ãƒ ç”»é¢ã«è¿½åŠ ã™ã‚‹ãŸã‚ã®è¨­å®š -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="ãƒãƒ¢ãƒ‰ãƒ¼ãƒ­">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ…</text></svg>">
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ…</text></svg>">


    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.77/Tone.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            transition: background 1s ease-in-out;
        }
        .focus-ring-custom:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.5);
        }
        .fade-ui {
            transition: opacity 0.5s ease-in-out;
        }
        #timer-card {
            transition: background-color 0.5s ease-in-out, box-shadow 0.5s ease-in-out, backdrop-filter 0.5s ease-in-out;
        }
        #timer-card.focus-mode {
            background-color: transparent;
            box-shadow: none;
            backdrop-filter: none;
        }
        /* Hide number input arrows */
        input[type=number]::-webkit-inner-spin-button, 
        input[type=number]::-webkit-outer-spin-button { 
          -webkit-appearance: none; 
          margin: 0; 
        }
        input[type=number] {
          -moz-appearance: textfield;
        }
    </style>
</head>
<body id="app-body" class="bg-gray-900 flex items-center justify-center min-h-screen">

    <div class="w-full max-w-md mx-auto p-4 md:p-6 relative">
        <!-- Goal Setting Screen -->
        <div id="goal-screen">
            <header class="text-center mb-8">
                <h1 class="text-3xl font-bold text-white">ç›®æ¨™ã‚’è¨­å®š</h1>
            </header>
            <div class="bg-white/10 p-8 rounded-lg shadow-lg backdrop-blur-md text-center">
                <label for="goal-input" class="block text-white font-semibold mb-2">ä½•ãƒãƒ¢ãƒ‰ãƒ¼ãƒ­é›†ä¸­ã—ã¾ã™ã‹ï¼Ÿ</label>
                <input type="text" id="goal-input" value="4" class="w-full text-center bg-gray-700 text-white text-2xl p-3 rounded border border-gray-600 focus:ring-2 focus:ring-blue-500 focus:outline-none" inputmode="numeric">
                <div id="total-time-display" class="text-white/70 mt-4 h-12 flex flex-col items-center justify-center">
                    <p>åˆè¨ˆæ™‚é–“: <span id="total-time-value"></span></p>
                    <p>(<span id="finish-time-value"></span> çµ‚äº†äºˆå®š)</p>
                </div>
                <button id="start-goal-btn" class="w-full mt-4 bg-blue-600 hover:bg-blue-700 text-white text-xl font-bold py-4 px-8 rounded-lg shadow-md transition-all duration-300 transform hover:scale-105 focus-ring-custom">
                    é›†ä¸­ã‚’é–‹å§‹ã™ã‚‹
                </button>
            </div>
        </div>

        <!-- Main Timer Screen (Initially Hidden) -->
        <div id="main-timer-screen" class="hidden">
            <!-- Settings Button in top right -->
            <div id="settings-button-container" class="absolute top-4 right-4 z-10 fade-ui">
                <button id="settings-btn" class="p-3 text-white/70 hover:text-white transition-colors duration-300 focus-ring-custom rounded-full hover:bg-white/10">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" /></svg>
                </button>
            </div>

            <header id="app-header" class="text-center mb-8 fade-ui">
                <h1 class="text-3xl font-bold text-white">ãƒãƒ¢ãƒ‰ãƒ¼ãƒ­ã‚¿ã‚¤ãƒãƒ¼</h1>
            </header>

            <main>
                <!-- Timer Card -->
                <div id="timer-card" class="bg-white/10 p-6 rounded-lg shadow-lg backdrop-blur-md">
                    <!-- Mode Buttons -->
                    <div id="mode-buttons-container" class="flex justify-center bg-black/20 p-1.5 rounded-full mb-6 fade-ui">
                        <button id="pomodoro-btn" class="mode-button flex-1 py-2 px-4 text-sm font-bold rounded-full transition-colors duration-300 focus-ring-custom text-white" data-mode="pomodoro">ãƒãƒ¢ãƒ‰ãƒ¼ãƒ­</button>
                        <button id="short-break-btn" class="mode-button flex-1 py-2 px-4 text-sm font-bold rounded-full transition-colors duration-300 focus-ring-custom text-white" data-mode="shortBreak">çŸ­ã„ä¼‘æ†©</button>
                        <button id="long-break-btn" class="mode-button flex-1 py-2 px-4 text-sm font-bold rounded-full transition-colors duration-300 focus-ring-custom text-white" data-mode="longBreak">é•·ã„ä¼‘æ†©</button>
                    </div>
                    
                    <!-- Progress Info -->
                    <div id="progress-info" class="text-center text-white/80 mb-4 h-12 flex items-center justify-center">
                        <p id="remaining-sessions"></p>
                    </div>

                    <div id="background-status" class="text-center text-white/60 mb-4 space-y-2 hidden">
                        <p id="background-status-text">ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§ã¯ãƒŸãƒ‹ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã¨ã—ã¦è¡¨ç¤ºã•ã‚Œã€ãƒ­ãƒƒã‚¯ç”»é¢ã§ã‚‚ã‚¿ã‚¤ãƒãƒ¼ãŒç¢ºèªã§ãã¾ã™ã€‚é€šçŸ¥ã‚’è¨±å¯ã—ã¦ãã ã•ã„ã€‚</p>
                        <button id="enable-notifications-btn" class="bg-white/20 hover:bg-white/30 text-white text-sm font-semibold px-4 py-2 rounded-full focus-ring-custom">
                            é€šçŸ¥ã‚’æœ‰åŠ¹ã«ã™ã‚‹
                        </button>
                    </div>

                    <!-- Timer Display with Visual Progress -->
                    <div class="relative flex items-center justify-center w-64 h-64 md:w-72 md:h-72 mx-auto my-8">
                        <svg class="absolute top-0 left-0 w-full h-full" viewBox="0 0 100 100">
                            <circle cx="50" cy="50" r="45" class="fill-white/10" />
                            <path id="progress-path" />
                        </svg>
                        <p id="timer-display" class="relative text-7xl md:text-8xl font-extrabold text-white tracking-tighter fade-ui">25:00</p>
                        <!-- Session Notification -->
                        <div id="session-notification" class="absolute inset-0 flex items-center justify-center opacity-0 transition-opacity duration-500 pointer-events-none">
                            <div class="bg-black/50 text-white text-lg font-bold py-4 px-8 rounded-lg backdrop-blur-sm text-center">
                                <p id="session-name" class="text-2xl mb-2"></p>
                                <p id="notification-remaining-sessions" class="text-base font-normal"></p>
                            </div>
                        </div>
                    </div>

                    <!-- Control Buttons -->
                    <div id="control-buttons-container" class="flex items-center justify-center space-x-4 fade-ui">
                        <button id="reset-btn" class="p-4 text-white/70 hover:text-white transition-colors duration-300 focus-ring-custom rounded-full">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                              <path stroke-linecap="round" stroke-linejoin="round" d="M9 15L3 9m0 0l6-6M3 9h12a6 6 0 010 12h-3" />
                            </svg>
                        </button>
                        <button id="start-pause-btn" class="w-48 bg-white text-red-500 text-2xl font-bold py-4 px-8 rounded-lg shadow-md hover:bg-gray-200 transition-all duration-300 transform hover:scale-105 focus-ring-custom">
                            é–‹å§‹
                        </button>
                         <button id="skip-btn" class="p-4 text-white/70 hover:text-white transition-colors duration-300 focus-ring-custom rounded-full">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                              <path stroke-linecap="round" stroke-linejoin="round" d="M13 5l7 7-7 7M5 5l7 7-7 7" />
                            </svg>
                        </button>
                    </div>
                </div>

                <div id="counter-container" class="text-center mt-6 fade-ui">
                    <p id="pomodoro-counter" class="text-white/80 text-lg font-semibold">ãƒãƒ¢ãƒ‰ãƒ¼ãƒ­ #1</p>
                </div>
            </main>
        </div>
        
        <!-- Goal Completed Screen -->
        <div id="goal-completed-screen" class="hidden">
            <header class="text-center mb-8">
                <h1 class="text-3xl font-bold text-white">ãŠç–²ã‚Œæ§˜ã§ã—ãŸï¼</h1>
            </header>
            <div class="bg-white/10 p-8 rounded-lg shadow-lg backdrop-blur-md text-center text-white">
                <p class="text-lg">ç›®æ¨™ã‚’é”æˆã—ã¾ã—ãŸã€‚</p>
                <div class="my-6 text-xl space-y-2">
                    <p>å®Ÿè¡Œã‚»ãƒƒã‚·ãƒ§ãƒ³: <span id="completed-sessions"></span></p>
                    <p>åˆè¨ˆæ™‚é–“: <span id="completed-time"></span></p>
                </div>
                <button id="add-sessions-btn" class="w-full mt-4 bg-blue-600 hover:bg-blue-700 text-white text-xl font-bold py-4 px-8 rounded-lg shadow-md transition-all duration-300 transform hover:scale-105 focus-ring-custom">
                    ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’è¿½åŠ ã™ã‚‹
                </button>
                <button id="end-session-btn" class="w-full mt-4 bg-gray-600 hover:bg-gray-700 text-white text-xl font-bold py-4 px-8 rounded-lg shadow-md transition-all duration-300 transform hover:scale-105 focus-ring-custom">
                    çµ‚äº†
                </button>
            </div>
        </div>
    </div>

    <canvas id="pip-canvas" width="240" height="240" class="hidden"></canvas>
    <video id="pip-video" class="hidden" muted playsinline></video>

    <!-- Settings Modal -->
    <div id="settings-modal" class="hidden fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50">
        <div class="bg-gray-800 text-white p-8 rounded-lg shadow-2xl w-full max-w-sm">
            <h2 class="text-2xl font-bold mb-6">è¨­å®š</h2>
            <div class="space-y-4">
                <div>
                    <label for="pomodoro-duration-input" class="block mb-1 font-semibold">ãƒãƒ¢ãƒ‰ãƒ¼ãƒ­ (åˆ†)</label>
                    <div class="flex items-center space-x-2">
                        <button class="adjust-btn p-2 rounded-md bg-gray-700 hover:bg-gray-600" data-target="pomodoro-duration-input" data-amount="-1">-</button>
                        <input type="text" id="pomodoro-duration-input" class="w-full bg-gray-700 text-white p-2 rounded border border-gray-600 focus:ring-2 focus:ring-blue-500 focus:outline-none text-center" inputmode="numeric">
                        <button class="adjust-btn p-2 rounded-md bg-gray-700 hover:bg-gray-600" data-target="pomodoro-duration-input" data-amount="1">+</button>
                    </div>
                </div>
                <div>
                    <label for="short-break-duration-input" class="block mb-1 font-semibold">çŸ­ã„ä¼‘æ†© (åˆ†)</label>
                     <div class="flex items-center space-x-2">
                        <button class="adjust-btn p-2 rounded-md bg-gray-700 hover:bg-gray-600" data-target="short-break-duration-input" data-amount="-1">-</button>
                        <input type="text" id="short-break-duration-input" class="w-full bg-gray-700 text-white p-2 rounded border border-gray-600 focus:ring-2 focus:ring-blue-500 focus:outline-none text-center" inputmode="numeric">
                        <button class="adjust-btn p-2 rounded-md bg-gray-700 hover:bg-gray-600" data-target="short-break-duration-input" data-amount="1">+</button>
                    </div>
                </div>
                <div>
                    <label for="long-break-duration-input" class="block mb-1 font-semibold">é•·ã„ä¼‘æ†© (åˆ†)</label>
                    <div class="flex items-center space-x-2">
                        <button class="adjust-btn p-2 rounded-md bg-gray-700 hover:bg-gray-600" data-target="long-break-duration-input" data-amount="-1">-</button>
                        <input type="text" id="long-break-duration-input" class="w-full bg-gray-700 text-white p-2 rounded border border-gray-600 focus:ring-2 focus:ring-blue-500 focus:outline-none text-center" inputmode="numeric">
                        <button class="adjust-btn p-2 rounded-md bg-gray-700 hover:bg-gray-600" data-target="long-break-duration-input" data-amount="1">+</button>
                    </div>
                </div>
                <div class="pt-4">
                    <label for="auto-cycle-toggle" class="flex items-center justify-between cursor-pointer">
                        <span class="font-semibold">æ¬¡ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’è‡ªå‹•çš„ã«é–‹å§‹</span>
                        <span class="relative">
                            <input type="checkbox" id="auto-cycle-toggle" class="sr-only peer">
                            <span class="block w-14 h-8 bg-gray-600 rounded-full peer-checked:bg-blue-600 transition"></span>
                            <span class="absolute left-1 top-1 block w-6 h-6 bg-white rounded-full transition-transform peer-checked:translate-x-full"></span>
                        </span>
                    </label>
                </div>
            </div>
            <div class="mt-8 flex justify-end">
                <button id="save-settings-btn" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded">ä¿å­˜</button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- DOM Elements ---
            const appBody = document.getElementById('app-body');
            const goalScreen = document.getElementById('goal-screen');
            const mainTimerScreen = document.getElementById('main-timer-screen');
            const goalCompletedScreen = document.getElementById('goal-completed-screen');
            const goalInput = document.getElementById('goal-input');
            const totalTimeValue = document.getElementById('total-time-value');
            const finishTimeValue = document.getElementById('finish-time-value');
            const startGoalBtn = document.getElementById('start-goal-btn');
            const addSessionsBtn = document.getElementById('add-sessions-btn');
            const endSessionBtn = document.getElementById('end-session-btn');
            const completedSessionsDisplay = document.getElementById('completed-sessions');
            const completedTimeDisplay = document.getElementById('completed-time');
            const timerDisplay = document.getElementById('timer-display');
            const startPauseBtn = document.getElementById('start-pause-btn');
            const resetBtn = document.getElementById('reset-btn');
            const skipBtn = document.getElementById('skip-btn');
            const settingsBtn = document.getElementById('settings-btn');
            const modeButtons = document.querySelectorAll('.mode-button');
            const pomodoroCounterDisplay = document.getElementById('pomodoro-counter');
            const progressPath = document.getElementById('progress-path');
            const timerCard = document.getElementById('timer-card');
            const sessionNotification = document.getElementById('session-notification');
            const sessionName = document.getElementById('session-name');
            const notificationRemainingSessions = document.getElementById('notification-remaining-sessions');
            const progressInfo = document.getElementById('progress-info');
            const remainingSessionsDisplay = document.getElementById('remaining-sessions');
            const backgroundStatus = document.getElementById('background-status');
            const backgroundStatusText = document.getElementById('background-status-text');
            const enableNotificationsBtn = document.getElementById('enable-notifications-btn');
            const uiToHide = [
                document.getElementById('app-header'),
                document.getElementById('settings-button-container'),
                document.getElementById('mode-buttons-container'),
                document.getElementById('control-buttons-container'),
                document.getElementById('counter-container'),
                timerDisplay
            ];
            const pipCanvas = document.getElementById('pip-canvas');
            const pipVideo = document.getElementById('pip-video');
            pipVideo.playsInline = true;
            const pipCtx = pipCanvas.getContext('2d');
            const PIP_SIZE = 240;
            // Modal elements
            const settingsModal = document.getElementById('settings-modal');
            const saveSettingsBtn = document.getElementById('save-settings-btn');
            const pomodoroInput = document.getElementById('pomodoro-duration-input');
            const shortBreakInput = document.getElementById('short-break-duration-input');
            const longBreakInput = document.getElementById('long-break-duration-input');
            const durationInputs = [pomodoroInput, shortBreakInput, longBreakInput];
            const adjustButtons = document.querySelectorAll('.adjust-btn');
            const autoCycleToggle = document.getElementById('auto-cycle-toggle');

            // --- Timer Settings ---
            let DURATION = {
                pomodoro: 25 * 60,
                shortBreak: 5 * 60,
                longBreak: 15 * 60,
            };

            // --- State ---
            let mode = 'pomodoro';
            let timeRemaining = DURATION.pomodoro; // in seconds
            let isActive = false;
            let logicTimerInterval = null;
            let animationFrameId = null;
            let endTime = 0; // Timestamp for when the timer ends
            let pomodoroCount = 0; // For the current goal
            let sessionCount = 1;
            let notificationTimeout = null;
            let isAutoCycle = true; // Default to automatic cycle
            let targetPomodoros = 4;
            let cumulativePomodoroCount = 0; // Total across all goals
            let cumulativeElapsedTime = 0; // Total across all goals
            let backgroundNotificationInterval = null;
            let backgroundNotification = null;
            let mediaSessionInitialized = false;
            let pipRequestInFlight = false;

            // --- Colors ---
            const COLORS = {
                pomodoro: 'bg-gradient-to-br from-gray-900 to-red-900',
                shortBreak: 'bg-gradient-to-br from-gray-900 to-teal-900',
                longBreak: 'bg-gradient-to-br from-gray-900 to-blue-900',
            };
            const TEXT_COLORS = {
                pomodoro: 'text-red-400',
                shortBreak: 'text-teal-400',
                longBreak: 'text-blue-400',
            };
            const FILL_COLORS = {
                pomodoro: 'fill-red-950',
                shortBreak: 'fill-teal-950',
                longBreak: 'fill-blue-950',
            };
            const PIE_COLORS = {
                pomodoro: '#ef4444',
                shortBreak: '#14b8a6',
                longBreak: '#3b82f6',
            };
            const SESSION_NAMES = {
                pomodoro: 'ãƒãƒ¢ãƒ‰ãƒ¼ãƒ­',
                shortBreak: 'çŸ­ã„ä¼‘æ†©',
                longBreak: 'é•·ã„ä¼‘æ†©'
            };

            const SUPPORTS_NOTIFICATIONS = 'Notification' in window;
            const SUPPORTS_MEDIA_SESSION = 'mediaSession' in navigator && 'MediaMetadata' in window;
            const SUPPORTS_PIP = 'pictureInPictureEnabled' in document;

            // --- Helper Functions ---
            function toHalfWidth(str) {
                if (!str) return '';
                return str.replace(/[ï¼-ï¼™]/g, (s) => {
                    return String.fromCharCode(s.charCodeAt(0) - 0xFEE0);
                }).replace(/[^0-9]/g, '');
            }
            
            function formatTime(totalSeconds) {
                if (totalSeconds < 60) return `${Math.ceil(totalSeconds)}ç§’`;
                const hours = Math.floor(totalSeconds / 3600);
                const minutes = Math.floor((totalSeconds % 3600) / 60);
                let result = '';
                if (hours > 0) result += `${hours}æ™‚é–“ `;
                if (minutes > 0) result += `${minutes}åˆ†`;
                return result.trim() || '0åˆ†';
            }

            function getFinishTime(remainingSeconds) {
                const now = new Date();
                now.setSeconds(now.getSeconds() + remainingSeconds);
                const hours = String(now.getHours()).padStart(2, '0');
                const minutes = String(now.getMinutes()).padStart(2, '0');
                return `${hours}:${minutes}`;
            }

            function formatClock(totalSeconds) {
                const minutes = Math.max(0, Math.floor(totalSeconds / 60));
                const seconds = Math.max(0, Math.floor(totalSeconds % 60));
                return `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
            }

            function calculateTotalTime(pomos, startCount = 0) {
                if (pomos <= 0) return 0;
                let totalTime = pomos * DURATION.pomodoro;
                for (let i = 0; i < pomos - 1; i++) {
                    const currentPomoIndex = startCount + i + 1;
                    if (currentPomoIndex > 0 && currentPomoIndex % 4 === 0) {
                        totalTime += DURATION.longBreak;
                    } else {
                        totalTime += DURATION.shortBreak;
                    }
                }
                return totalTime;
            }

            // --- SVG Helper Functions ---
            function polarToCartesian(centerX, centerY, radius, angleInDegrees) {
                const angleInRadians = (angleInDegrees - 90) * Math.PI / 180.0;
                return {
                    x: centerX + (radius * Math.cos(angleInRadians)),
                    y: centerY + (radius * Math.sin(angleInRadians))
                };
            }

            function describeArc(x, y, radius, angle) {
                if (angle <= 0) return "";
                if (angle >= 360) angle = 359.999;

                const start = polarToCartesian(x, y, radius, 0);
                const end = polarToCartesian(x, y, radius, angle);

                const largeArcFlag = angle <= 180 ? "0" : "1";
                const d = ["M", start.x, start.y, "A", radius, radius, 0, largeArcFlag, 1, end.x, end.y, "L", x, y, "Z"].join(" ");
                return d;
            }

            function createPieChartArtwork(remainingSeconds = timeRemaining) {
                const totalSeconds = DURATION[mode] || 1;
                const clampedRemaining = Math.max(0, Math.min(totalSeconds, remainingSeconds));
                const elapsedAngle = ((totalSeconds - clampedRemaining) / totalSeconds) * 360;
                const arcPath = describeArc(100, 100, 72, elapsedAngle);
                const primaryColor = PIE_COLORS[mode];
                const timeText = formatClock(clampedRemaining);
                const sessionText = SESSION_NAMES[mode];

                const svg = `
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200" role="img" aria-label="${sessionText} æ®‹ã‚Š ${timeText}">
                        <rect width="200" height="200" rx="24" fill="#0b1220" />
                        <circle cx="100" cy="100" r="80" fill="#111827" stroke="#1f2937" stroke-width="12" />
                        ${arcPath ? `<path d="${arcPath}" fill="${primaryColor}" opacity="0.9" />` : ''}
                        <text x="100" y="104" text-anchor="middle" font-size="36" fill="#f9fafb" font-family="Inter, system-ui, -apple-system, sans-serif">${timeText}</text>
                        <text x="100" y="134" text-anchor="middle" font-size="16" fill="${primaryColor}" font-family="Inter, system-ui, -apple-system, sans-serif">${sessionText}</text>
                    </svg>
                `;

                return `data:image/svg+xml,${encodeURIComponent(svg)}`;
            }
            
            // --- Display Update Functions ---
            function updateDigitalDisplay(secs) {
                const minutes = Math.floor(secs / 60);
                const seconds = Math.floor(secs % 60);
                const newText = `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
                if (timerDisplay.textContent !== newText) {
                    timerDisplay.textContent = newText;
                    if (window.matchMedia('(display-mode: browser)').matches) {
                        document.title = newText;
                    }
                }
                updatePictureInPicture(secs);
            }
            
            function updateVisualDisplay(ms) {
                const totalDurationMs = DURATION[mode] * 1000;
                const progress = totalDurationMs > 0 ? ms / totalDurationMs : 0;
                const angle = 360 - (progress * 360);
                const pathData = describeArc(50, 50, 45, angle);
                progressPath.setAttribute("d", pathData);
            }
            
            function updateProgressInfo() {
                const remainingPomos = targetPomodoros - pomodoroCount;
                if (remainingPomos <= 0) {
                    progressInfo.classList.add('hidden');
                    return;
                }
                
                remainingSessionsDisplay.textContent = `æ®‹ã‚Š ${remainingPomos} / ${targetPomodoros} ãƒãƒ¢ãƒ‰ãƒ¼ãƒ­`;
                progressInfo.classList.remove('hidden');
            }

            // --- Animation Loop ---
            function animationLoop() {
                if (!isActive) return;
                const remainingMs = Math.max(0, endTime - performance.now());
                updateVisualDisplay(remainingMs); 
                animationFrameId = requestAnimationFrame(animationLoop);
            }
            
            // --- Notification Logic ---
            function showSessionNotification(modeName, text) {
                clearTimeout(notificationTimeout);
                sessionName.textContent = text || SESSION_NAMES[modeName];
                
                const remainingPomos = targetPomodoros - pomodoroCount;
                if (remainingPomos <= 0 || text) {
                    notificationRemainingSessions.textContent = '';
                } else {
                    notificationRemainingSessions.textContent = `æ®‹ã‚Š ${remainingPomos} / ${targetPomodoros} ãƒãƒ¢ãƒ‰ãƒ¼ãƒ­`;
                }
                
                sessionNotification.classList.remove('opacity-0');
                notificationTimeout = setTimeout(() => {
                    sessionNotification.classList.add('opacity-0');
                }, 15000);
            }

            function hideSessionNotification() {
                clearTimeout(notificationTimeout);
                sessionNotification.classList.add('opacity-0');
            }

            // --- Focus Mode Control ---
            const enterFocusMode = () => {
                uiToHide.forEach(el => el.classList.add('opacity-0', 'pointer-events-none'));
                timerCard.classList.add('focus-mode');
                appBody.addEventListener('click', handleBodyClick);
                progressInfo.classList.add('hidden');
                updateBackgroundStatus();
            };

            const exitFocusMode = () => {
                uiToHide.forEach(el => el.classList.remove('opacity-0', 'pointer-events-none'));
                timerCard.classList.remove('focus-mode');
                appBody.removeEventListener('click', handleBodyClick);
                updateProgressInfo();
                updateBackgroundStatus();
            };
            
            const handleBodyClick = (event) => {
                if (event.target.closest('button') || event.target.closest('#settings-modal > div')) return;
                if (isActive) pauseTimer();
            };

            // --- Timer Control Functions ---
            function startTimer() {
                if (isActive) return;
                isActive = true;
                startPauseBtn.textContent = 'ä¸€æ™‚åœæ­¢';
                enterFocusMode();

                ensurePiPVideo();
                updatePictureInPicture(timeRemaining);

                endTime = performance.now() + timeRemaining * 1000;

                cancelAnimationFrame(animationFrameId);
                animationFrameId = requestAnimationFrame(animationLoop);

                startBackgroundNotifications();
                updateMediaSession(timeRemaining);

                Tone.start().catch(e => console.error("Tone.jsã®é–‹å§‹ã«å¤±æ•—ã—ã¾ã—ãŸ:", e));
                logicTimerInterval = setInterval(() => {
                    const remainingSeconds = Math.max(0, (endTime - performance.now()) / 1000);
                    updateDigitalDisplay(remainingSeconds);
                    timeRemaining = remainingSeconds;
                    updateBackgroundNotification(remainingSeconds);
                    updateMediaSession(remainingSeconds);

                    if (remainingSeconds <= 0) {
                        timeRemaining = 0;
                        updateDigitalDisplay(0);
                        clearInterval(logicTimerInterval);
                        cancelAnimationFrame(animationFrameId);
                        playFinishSound();
                        stopBackgroundNotifications();
                        handleTimerEnd();
                    }
                }, 250);
            }

            function pauseTimer(keepFocus = false) {
                if (!isActive) return;
                isActive = false;
                startPauseBtn.textContent = 'é–‹å§‹';
                if (!keepFocus) {
                    exitFocusMode();
                }

                clearInterval(logicTimerInterval);
                cancelAnimationFrame(animationFrameId);
                stopBackgroundNotifications();

                timeRemaining = Math.max(0, (endTime - performance.now()) / 1000);
                updateMediaSession(timeRemaining);

                if (!keepFocus) {
                    hideSessionNotification();
                }
            }
            
            function resetTimer(keepFocus = false) {
                pauseTimer(keepFocus);
                timeRemaining = DURATION[mode];
                updateDigitalDisplay(timeRemaining);
                updateVisualDisplay(timeRemaining * 1000);
                if (!keepFocus) updateProgressInfo();
                updateMediaSession(timeRemaining);
            }

            function switchMode(newMode, keepFocus = false) {
                mode = newMode;
                resetTimer(keepFocus);
                updateUIForMode(newMode);
                startBackgroundNotifications();
                updateMediaSession(timeRemaining);
            }
            
            function handleTimerEnd() {
                if (mode === 'pomodoro') {
                    pomodoroCount++;
                }

                if (pomodoroCount >= targetPomodoros) {
                    cumulativePomodoroCount += pomodoroCount;
                    cumulativeElapsedTime += (new Date() - sessionStartTime) / 1000;
                    completedSessionsDisplay.textContent = `${cumulativePomodoroCount} ã‚»ãƒƒã‚·ãƒ§ãƒ³`;
                    completedTimeDisplay.textContent = formatTime(cumulativeElapsedTime);
                    stopBackgroundNotifications();
                    isActive = false;
                    updateMediaSession(0);
                    mainTimerScreen.classList.add('hidden');
                    goalCompletedScreen.classList.remove('hidden');
                    return;
                }

                const nextMode = mode === 'pomodoro' ? (pomodoroCount % 4 === 0 ? 'longBreak' : 'shortBreak') : 'pomodoro';
                if (nextMode === 'pomodoro') sessionCount++;
                
                switchMode(nextMode, isAutoCycle);
                showSessionNotification(nextMode);
                
                if (isAutoCycle) {
                    setTimeout(() => {
                        startTimer();
                    }, 1000);
                }
            }

            // --- Picture in Picture ---
            function resizePiPCanvas() {
                const scale = window.devicePixelRatio || 1;
                pipCanvas.width = PIP_SIZE * scale;
                pipCanvas.height = PIP_SIZE * scale;
                pipCanvas.style.width = `${PIP_SIZE}px`;
                pipCanvas.style.height = `${PIP_SIZE}px`;
                pipCtx.setTransform(scale, 0, 0, scale, 0, 0);
            }

            function drawPiPContent(secs) {
                if (!SUPPORTS_PIP) return;

                pipCtx.setTransform(1, 0, 0, 1, 0, 0);
                pipCtx.clearRect(0, 0, pipCanvas.width, pipCanvas.height);
                resizePiPCanvas();

                const totalSeconds = Math.max(1, DURATION[mode]);
                const clampedRemaining = Math.max(0, Math.min(totalSeconds, secs));
                const progress = (totalSeconds - clampedRemaining) / totalSeconds;
                const center = PIP_SIZE / 2;
                const radius = center - 16;
                const startAngle = -Math.PI / 2;
                const endAngle = startAngle + (Math.PI * 2 * progress);
                const primaryColor = PIE_COLORS[mode];

                pipCtx.clearRect(0, 0, PIP_SIZE, PIP_SIZE);

                // Background
                const gradient = pipCtx.createLinearGradient(0, 0, PIP_SIZE, PIP_SIZE);
                gradient.addColorStop(0, '#0b1220');
                gradient.addColorStop(1, '#0f172a');
                pipCtx.fillStyle = gradient;
                pipCtx.fillRect(0, 0, PIP_SIZE, PIP_SIZE);

                // Base circle
                pipCtx.beginPath();
                pipCtx.fillStyle = '#111827';
                pipCtx.strokeStyle = '#1f2937';
                pipCtx.lineWidth = 10;
                pipCtx.arc(center, center, radius, 0, Math.PI * 2);
                pipCtx.fill();
                pipCtx.stroke();

                // Progress slice
                if (progress > 0) {
                    pipCtx.beginPath();
                    pipCtx.moveTo(center, center);
                    pipCtx.arc(center, center, radius - 2, startAngle, endAngle, false);
                    pipCtx.closePath();
                    pipCtx.fillStyle = primaryColor;
                    pipCtx.globalAlpha = 0.92;
                    pipCtx.fill();
                    pipCtx.globalAlpha = 1;
                }

                // Time label
                const minutes = Math.floor(clampedRemaining / 60);
                const seconds = Math.floor(clampedRemaining % 60);
                pipCtx.fillStyle = '#f9fafb';
                pipCtx.font = 'bold 36px Inter, system-ui, -apple-system, sans-serif';
                pipCtx.textAlign = 'center';
                pipCtx.textBaseline = 'middle';
                pipCtx.fillText(`${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`, center, center - 6);

                pipCtx.fillStyle = primaryColor;
                pipCtx.font = '18px Inter, system-ui, -apple-system, sans-serif';
                pipCtx.fillText(SESSION_NAMES[mode], center, center + 28);
            }

            async function ensurePiPVideo() {
                if (!SUPPORTS_PIP) return;
                pipVideo.disablePictureInPicture = false;
                pipVideo.controls = false;
                pipVideo.muted = true;
                pipVideo.playsInline = true;
                if (!pipVideo.srcObject) {
                    try {
                        pipVideo.srcObject = pipCanvas.captureStream(30);
                        await pipVideo.play();
                    } catch (err) {
                        console.warn('PiPå‹•ç”»ã®åˆæœŸåŒ–ã«å¤±æ•—ã—ã¾ã—ãŸ', err);
                        return;
                    }
                }

                if (document.pictureInPictureElement === pipVideo || pipRequestInFlight) return;
                pipRequestInFlight = true;
                try {
                    await pipVideo.requestPictureInPicture();
                } catch (err) {
                    console.warn('Picture-in-Pictureã®é–‹å§‹ã«å¤±æ•—ã—ã¾ã—ãŸ', err);
                } finally {
                    pipRequestInFlight = false;
                }
            }

            function updatePictureInPicture(secs) {
                if (!SUPPORTS_PIP) return;
                drawPiPContent(secs);
            }

            function updateUIForMode(currentMode) {
                appBody.className = `flex items-center justify-center min-h-screen ${COLORS[currentMode]}`;
                startPauseBtn.className = `w-48 bg-white ${TEXT_COLORS[currentMode]} text-2xl font-bold py-4 px-8 rounded-lg shadow-md hover:bg-gray-200 transition-all duration-300 transform hover:scale-105 focus-ring-custom`;
                progressPath.className = `${FILL_COLORS[currentMode]} opacity-60`;
                modeButtons.forEach(button => {
                    button.classList.toggle('bg-white', button.dataset.mode === currentMode);
                    button.classList.toggle('text-white', button.dataset.mode !== currentMode);
                    Object.values(TEXT_COLORS).forEach(color => button.classList.remove(color));
                    if (button.dataset.mode === currentMode) button.classList.add(TEXT_COLORS[currentMode]);
                });
                pomodoroCounterDisplay.textContent = `ãƒãƒ¢ãƒ‰ãƒ¼ãƒ­ #${sessionCount}`;
                updatePictureInPicture(timeRemaining);
            }

            function playFinishSound() {
                try {
                    const synth = new Tone.Synth().toDestination();
                    synth.triggerAttackRelease("C5", "8n", Tone.now());
                    synth.triggerAttackRelease("G5", "8n", Tone.now() + 0.2);
                } catch (e) { console.error("ã‚µã‚¦ãƒ³ãƒ‰ã®å†ç”Ÿã«å¤±æ•—ã—ã¾ã—ãŸ:", e); }
            }
            
            // --- Settings Modal Logic ---
            function openSettingsModal() {
                pomodoroInput.value = DURATION.pomodoro / 60;
                shortBreakInput.value = DURATION.shortBreak / 60;
                longBreakInput.value = DURATION.longBreak / 60;
                autoCycleToggle.checked = isAutoCycle;
                settingsModal.classList.remove('hidden');
            }

            function closeSettingsModal() {
                settingsModal.classList.add('hidden');
            }

            function saveSettings() {
                pomodoroInput.value = toHalfWidth(pomodoroInput.value);
                shortBreakInput.value = toHalfWidth(shortBreakInput.value);
                longBreakInput.value = toHalfWidth(longBreakInput.value);

                const newPomodoro = parseInt(pomodoroInput.value, 10);
                const newShortBreak = parseInt(shortBreakInput.value, 10);
                const newLongBreak = parseInt(longBreakInput.value, 10);

                if (newPomodoro > 0) DURATION.pomodoro = newPomodoro * 60;
                if (newShortBreak > 0) DURATION.shortBreak = newShortBreak * 60;
                if (newLongBreak > 0) DURATION.longBreak = newLongBreak * 60;

                isAutoCycle = autoCycleToggle.checked;

                closeSettingsModal();
                if (!isActive) {
                    resetTimer();
                }
            }

            // --- Media Session / Mini Player ---
            function updateMediaSession(remainingSeconds = timeRemaining) {
                if (!SUPPORTS_MEDIA_SESSION) return;

                const clampedRemaining = Math.max(0, remainingSeconds);
                const elapsed = Math.min(DURATION[mode], Math.max(0, DURATION[mode] - clampedRemaining));

                const artwork = createPieChartArtwork(clampedRemaining);

                navigator.mediaSession.metadata = new MediaMetadata({
                    title: `${SESSION_NAMES[mode]}ã‚¿ã‚¤ãƒãƒ¼`,
                    artist: isActive ? 'é€²è¡Œä¸­' : 'ä¸€æ™‚åœæ­¢ä¸­',
                    album: 'ãƒãƒ¢ãƒ‰ãƒ¼ãƒ­ã‚¿ã‚¤ãƒãƒ¼',
                    artwork: [
                        { src: artwork, sizes: '512x512', type: 'image/svg+xml' },
                    ],
                });

                if (navigator.mediaSession.setPositionState) {
                    navigator.mediaSession.setPositionState({
                        duration: DURATION[mode],
                        position: elapsed,
                        playbackRate: 1,
                    });
                }

                navigator.mediaSession.playbackState = isActive ? 'playing' : 'paused';

                if (!mediaSessionInitialized && navigator.mediaSession.setActionHandler) {
                    navigator.mediaSession.setActionHandler('play', () => { if (!isActive) startTimer(); });
                    navigator.mediaSession.setActionHandler('pause', () => { if (isActive) pauseTimer(true); });
                    navigator.mediaSession.setActionHandler('stop', () => { pauseTimer(true); resetTimer(true); });
                    navigator.mediaSession.setActionHandler('nexttrack', () => {
                        if (isActive) pauseTimer(true);
                        handleTimerEnd();
                    });
                    mediaSessionInitialized = true;
                }
            }

            // --- Background Notification Control ---
            function updateBackgroundStatus(forceShow = false) {
                if (!SUPPORTS_NOTIFICATIONS) return;
                const permission = Notification.permission;
                const shouldShow = forceShow || permission !== 'granted';
                backgroundStatus.classList.toggle('hidden', !shouldShow);

                if (!shouldShow) return;

                if (permission === 'granted') {
                    backgroundStatusText.textContent = 'ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã®ãƒŸãƒ‹ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã¨ãƒ­ãƒƒã‚¯ç”»é¢è¡¨ç¤ºãŒæœ‰åŠ¹ã«ãªã‚Šã¾ã—ãŸã€‚';
                    enableNotificationsBtn.classList.add('hidden');
                } else if (permission === 'default') {
                    backgroundStatusText.textContent = 'ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§ã¯ãƒŸãƒ‹ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã¨ã—ã¦è¡¨ç¤ºã•ã‚Œã€ãƒ­ãƒƒã‚¯ç”»é¢ã§ã‚‚ã‚¿ã‚¤ãƒãƒ¼ã‚’ç¢ºèªã§ãã¾ã™ã€‚é€šçŸ¥ã‚’è¨±å¯ã—ã¦ãã ã•ã„ã€‚';
                    enableNotificationsBtn.classList.remove('hidden');
                } else {
                    backgroundStatusText.textContent = 'é€šçŸ¥ãŒãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã¦ã„ã¾ã™ã€‚ãƒŸãƒ‹ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼è¡¨ç¤ºã®ãŸã‚ã«ãƒ–ãƒ©ã‚¦ã‚¶è¨­å®šã‹ã‚‰è¨±å¯ã—ã¦ãã ã•ã„ã€‚';
                    enableNotificationsBtn.classList.add('hidden');
                }
            }

            function requestNotificationPermission() {
                if (!SUPPORTS_NOTIFICATIONS) return;
                Notification.requestPermission().then(updateBackgroundStatus);
            }

            function createProgressNotification(remainingSeconds) {
                if (!SUPPORTS_NOTIFICATIONS || Notification.permission !== 'granted') return null;
                const body = `${SESSION_NAMES[mode]} æ®‹ã‚Š ${formatClock(remainingSeconds)} (çµ‚äº† ${getFinishTime(remainingSeconds)})`;
                try {
                    return new Notification('ãƒãƒ¢ãƒ‰ãƒ¼ãƒ­é€²è¡Œä¸­', {
                        body,
                        tag: 'pomodoro-progress',
                        renotify: true,
                        silent: true,
                    });
                } catch (error) {
                    console.warn('é€šçŸ¥ã®é€ä¿¡ã«å¤±æ•—ã—ã¾ã—ãŸ', error);
                    return null;
                }
            }

            function updateBackgroundNotification(remainingSeconds) {
                if (!SUPPORTS_NOTIFICATIONS || Notification.permission !== 'granted') return;
                if (document.visibilityState !== 'hidden') {
                    stopBackgroundNotifications();
                    return;
                }
                if (remainingSeconds <= 0) {
                    stopBackgroundNotifications();
                    return;
                }
                if (!backgroundNotification || backgroundNotification.body?.includes('00:00')) {
                    backgroundNotification = createProgressNotification(remainingSeconds);
                }
            }

            function startBackgroundNotifications() {
                if (!SUPPORTS_NOTIFICATIONS || Notification.permission !== 'granted' || !isActive || document.visibilityState !== 'hidden') return;
                stopBackgroundNotifications();
                backgroundNotification = createProgressNotification(Math.max(0, (endTime - performance.now()) / 1000));
                backgroundNotificationInterval = setInterval(() => {
                    const remainingSeconds = Math.max(0, (endTime - performance.now()) / 1000);
                    backgroundNotification = createProgressNotification(remainingSeconds);
                }, 15000);
            }

            function stopBackgroundNotifications() {
                if (backgroundNotificationInterval) {
                    clearInterval(backgroundNotificationInterval);
                    backgroundNotificationInterval = null;
                }
                if (backgroundNotification) {
                    backgroundNotification.close();
                    backgroundNotification = null;
                }
            }

            // --- Event Listeners ---
            startPauseBtn.addEventListener('click', e => { e.stopPropagation(); isActive ? pauseTimer() : startTimer(); });
            resetBtn.addEventListener('click', e => { 
                e.stopPropagation(); 
                // Reset goes back to goal screen
                pauseTimer();
                pomodoroCount = 0;
                sessionCount = 1;
                cumulativePomodoroCount = 0;
                cumulativeElapsedTime = 0;
                switchMode('pomodoro');
                mainTimerScreen.classList.add('hidden');
                goalScreen.classList.remove('hidden');
            });
            skipBtn.addEventListener('click', e => {
                e.stopPropagation();
                if (isActive) {
                    pauseTimer(true); // Keep focus mode
                }
                handleTimerEnd();
            });
            settingsBtn.addEventListener('click', e => { e.stopPropagation(); openSettingsModal(); });
            saveSettingsBtn.addEventListener('click', saveSettings);
            settingsModal.addEventListener('click', (e) => {
                if (e.target === settingsModal) closeSettingsModal();
            });
            modeButtons.forEach(button => {
                button.addEventListener('click', e => {
                    e.stopPropagation();
                    if (!isActive) {
                        switchMode(e.target.dataset.mode);
                    }
                });
            });

            durationInputs.forEach(input => {
                input.addEventListener('blur', (e) => {
                    e.target.value = toHalfWidth(e.target.value);
                });
            });
            
            adjustButtons.forEach(button => {
                button.addEventListener('click', (e) => {
                    const targetInput = document.getElementById(e.currentTarget.dataset.target);
                    const amount = parseInt(e.currentTarget.dataset.amount, 10);
                    let currentValue = parseInt(targetInput.value, 10) || 0;
                    currentValue += amount;
                    if (currentValue < 1) {
                        currentValue = 1;
                    }
                    targetInput.value = currentValue;
                });
            });
            
            goalInput.addEventListener('input', () => {
                goalInput.value = toHalfWidth(goalInput.value);
                const pomos = parseInt(goalInput.value, 10) || 0;
                const totalTime = calculateTotalTime(pomos, cumulativePomodoroCount);
                totalTimeValue.textContent = formatTime(totalTime);
                finishTimeValue.textContent = getFinishTime(totalTime);
            });

            if (SUPPORTS_NOTIFICATIONS) {
                enableNotificationsBtn.addEventListener('click', () => {
                    requestNotificationPermission();
                });

                document.addEventListener('visibilitychange', () => {
                    if (document.visibilityState === 'hidden' && isActive) {
                        startBackgroundNotifications();
                    } else {
                        stopBackgroundNotifications();
                    }
                });
            }
            
            startGoalBtn.addEventListener('click', () => {
                const pomos = parseInt(goalInput.value, 10);
                if (pomos > 0) {
                    targetPomodoros = pomos;
                    pomodoroCount = 0;
                    sessionCount = 1;
                    sessionStartTime = new Date();
                    switchMode('pomodoro');
                    goalScreen.classList.add('hidden');
                    mainTimerScreen.classList.remove('hidden');
                    updateProgressInfo();
                }
            });
            
            addSessionsBtn.addEventListener('click', () => {
                goalCompletedScreen.classList.add('hidden');
                goalScreen.classList.remove('hidden');
                goalInput.dispatchEvent(new Event('input')); // Recalculate time based on cumulative count
            });
            
            endSessionBtn.addEventListener('click', () => {
                window.close();
            });

            window.addEventListener('resize', () => {
                if (SUPPORTS_PIP) {
                    updatePictureInPicture(timeRemaining);
                }
            });

            window.addEventListener('orientationchange', () => {
                if (SUPPORTS_PIP) {
                    updatePictureInPicture(timeRemaining);
                }
            });

            // --- Initial Setup ---
            goalInput.dispatchEvent(new Event('input')); // Calculate initial total time
            updateBackgroundStatus();
            updateMediaSession(timeRemaining);
        });
    </script>
</body>
</html>
